README
-------------------------

This code is for Project 3 of CMSC 621 Advanced Operating System, Prof. Kalpakis, 2022 Spring. The code belongs to Vineeth Nallan Chakravarthula (XM91974).

PROJECT STRUCTURE
-------------------------
This project implements a client-server system for a token management application. The structure of the project folder is as follows:

* `clientcode`
  * `clientcode.exe`
  * `clientcode.go`
* `servercode`
  * `servercode.exe`
  * `servercode.go`
* `tokenmgmt`
  * `tokenmgmt_grpc.pb.go`
  * `tokenmgmt.pb.gp`
  * `tokenmgmt.proto`
* `logs`
  * `log_11236.log`
  * `log_23654.log`
  * `log_50001.log`
  * `log_52003.log`
  * `log_55000.log`
  * `log_60000.log`
  * `log_65000.log`
* `screenshots`
  * `outputs_client_command_sh.png`
  * `server_65000_log.png`
* `client_commands.sh`
* `report.md`
* `go.mod`
* `go.sum`
* `yaml_final.yml`


Bash scripts
-------------------------
The server code is present in `servercode/servercode.go`.
The client code is present in `clientcode/clientcode.go`.
Executables for both these files are present in their respective folders.

The file `client_commands.sh` builds and runs the server program, client program, and kills all the server program instances that are created for this project. The bash file contains a variety of commands pertaining to the creation, reading, writing, and dropping of numerous tokens. The reader is free to change the order of those commands to see the impact of the change in the sequence of executions. In the middle, there is a five second delay in order to allow the emulation of fail-silent behavior on token 1020 on server 65000. More information in the report.


`tokenmgmt.proto`
-------------------------
The file `tokenmgmt/tokenmgmt.proto` contains the definition of the messages and lists the RPC calls of the service. Ideally, this file SHOULD NOT BE TAMPERED WITH. Any changes made to this file will require recompiling of the proto file, which can be done with the following command:

`protoc --go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative .\tokenmgmt\tokenmgmt.proto`

NOTE: CHANGING THE PROTO FILE WILL MORE OFTEN THAN NOT REQUIRE CHANGES IN THE SERVER AND THE CLIENT CODE. HANDLE THE PROTO FILE AND THE SUBSEQUENT COMPILATION WITH CARE.


Screenshots
-------------------------
The screenshots folder contains multiple screenshots of the outputs of the server and the client program executions. The screenshots provided pertain to the commands that are present in the `server.sh` and the `client.sh` by default. Changing the two files could result in a different output than what is provided in the screenshots.

`outputs_client_command_sh.png` shows the outputs of the `client_commands.sh` file.
`server_65000_log.png` shows the information present in the `log_65000.log` file.


`yaml_final.yml`
-------------------------
The file `yaml_final.yml` contains the replication schemes of all the tokens that are present for this project. This file is accessible by both the client and the server programs.


`report.md`
-------------------------
The file `report.md` is aimed at fulfilling the project reference report requirement. The reason this file is a .md and not a .docx is to ensure that it can be opened with the most basic of text editors. Use the native text editor to open the report. This file also contains notes about implementation and approaches taken to this project.


`logs\`
-------------------------
This folder contains the logs of each server. The names of the files are standardized in the form `log_<port_number>.log`. Each file corresponds to the log of a server. Special emphasis on the file `log_65000.log` as it contains the results of fail-silent emulations. 


Other files
-------------------------
`go.mod` and `go.sum` are files that are autogenerated during the compilation of the project. These files are not to be changed or interfered with as they are vital to the functioning of the project.